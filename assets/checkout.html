<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>E-Shop Checkout</title>
  <style>
    /* ---------- Global Styles ---------- */
    body {
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f7fb;
      color: #222;
    }

    h1, h2, h3 {
      margin: 0 0 10px 0;
      font-weight: 600;
    }

    .container {
      max-width: 1150px;
      margin: auto;
      padding: 25px;
    }

    /* ---------- Product Cards ---------- */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .product-card {
      background: #fff;
      border-radius: 10px;
      padding: 18px;
      box-shadow: 0 3px 12px rgba(0, 0, 0, 0.08);
      border: 1px solid #eee;
    }

    .product-card h3 {
      margin-bottom: 8px;
    }

    .price-tag {
      font-size: 16px;
      font-weight: 500;
      color: #0a6fbd;
      margin-bottom: 12px;
    }

    .add-to-cart {
      padding: 8px 12px;
      background: #1e88e5;
      border: none;
      color: #fff;
      font-weight: 500;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.2s ease;
    }

    .add-to-cart:hover {
      background: #1669b3;
    }

    /* ---------- Cart Section ---------- */
    .section-card {
      background: #fff;
      padding: 18px 20px;
      border-radius: 10px;
      box-shadow: 0 3px 12px rgba(0,0,0,0.07);
      border: 1px solid #eee;
      margin-bottom: 25px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    table th, table td {
      padding: 10px;
      text-align: left;
    }

    table th {
      background: #eef6ff;
      font-weight: 600;
    }

    table td input[type="number"] {
      width: 60px;
      padding: 4px;
    }

    /* ---------- Inputs + Labels ---------- */
    label {
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 3px;
      display: inline-block;
    }

    input[type="text"],
    input[type="email"] {
      width: 100%;
      padding: 8px 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
      margin-bottom: 4px;
    }

    .error {
      color: #d93025;
      font-size: 0.85em;
      margin-bottom: 6px;
    }

    /* ---------- Buttons ---------- */
    #pay-now {
      background-color: #28a745;
      padding: 12px 20px;
      color: #fff;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: 0.15s ease;
      width: 200px;
      margin-top: 8px;
    }
    #pay-now:hover { background-color: #218838; }
    #pay-now:disabled {
      background-color: #aaa;
      cursor: not-allowed;
    }

    /* ---------- Messages ---------- */
    .success { color: #0b9b41; font-weight: 600; }
    .errorMsg { color: #d93025; font-weight: 600; }

    .flex-row { display: flex; gap: 20px; flex-wrap: wrap; }
    .half { flex: 1 1 48%; min-width: 300px; }
  </style>
</head>
<body>
  <div class="container">

    <h1>ðŸ›’ E-Shop Checkout</h1>

    <h2>Products</h2>
    <div class="products-grid">
      <div class="product-card">
        <h3>Wireless Mouse</h3>
        <p class="price-tag">$20</p>
        <button class="add-to-cart" data-name="Wireless Mouse" data-price="20">Add to Cart</button>
      </div>

      <div class="product-card">
        <h3>Mechanical Keyboard</h3>
        <p class="price-tag">$80</p>
        <button class="add-to-cart" data-name="Mechanical Keyboard" data-price="80">Add to Cart</button>
      </div>

      <div class="product-card">
        <h3>USB-C Cable</h3>
        <p class="price-tag">$10</p>
        <button class="add-to-cart" data-name="USB-C Cable" data-price="10">Add to Cart</button>
      </div>
    </div>

    <div class="flex-row">
      <!-- Cart Summary -->
      <div class="section-card half">
        <h2>Cart Summary</h2>
        <table border="1" cellpadding="5">
          <thead>
            <tr>
              <th>Item</th>
              <th>Unit Price</th>
              <th>Quantity</th>
              <th>Subtotal</th>
            </tr>
          </thead>
          <tbody id="cart-body"></tbody>
        </table>

        <p style="margin-top:15px;">
          <label for="discount-code">Discount Code:</label>
          <input type="text" id="discount-code" />
          <span id="discount-error" class="error"></span>
        </p>

        <p><strong>Shipping:</strong><br>
          <label><input type="radio" name="shipping" value="standard" checked /> Standard (Free)</label><br>
          <label><input type="radio" name="shipping" value="express" /> Express ($10)</label>
        </p>

        <p><strong>Payment Method:</strong><br>
          <label><input type="radio" name="payment" value="card" checked /> Credit Card</label><br>
          <label><input type="radio" name="payment" value="paypal" /> PayPal</label>
        </p>

        <p style="font-size:18px; margin-top:15px;">
          <strong>Total: $<span id="total-price">0.00</span></strong>
        </p>
      </div>

      <!-- Checkout Form -->
      <div class="section-card half">
        <h2>User Details</h2>
        <form id="checkout-form" novalidate>
          <label for="name">Name *</label>
          <input type="text" id="name" />
          <div id="name-error" class="error"></div>

          <label for="email">Email *</label>
          <input type="email" id="email" />
          <div id="email-error" class="error"></div>

          <label for="address">Address *</label>
          <input type="text" id="address" />
          <div id="address-error" class="error"></div>

          <button type="button" id="pay-now">Pay Now</button>
          <div id="payment-message" style="margin-top:10px;"></div>
        </form>
      </div>
    </div>
  </div>

  <!-- Your original JS Script (unchanged) -->
  <script>
    /* ------------- SAME JS LOGIC AS YOURS (DO NOT MODIFY) ------------- */
    const cart = {};
    const SAVE15 = "SAVE15";
    function renderCart() {
      const cartBody = document.getElementById("cart-body");
      cartBody.innerHTML = "";
      let total = 0;
      Object.values(cart).forEach(item => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${item.name}</td>
          <td>$${item.price.toFixed(2)}</td>
          <td><input type="number" min="1" value="${item.quantity}" /></td>
          <td>$${(item.price * item.quantity).toFixed(2)}</td>
        `;
        row.querySelector("input").addEventListener("change", (e) => {
          item.quantity = parseInt(e.target.value, 10) || 1;
          renderCart();
        });
        cartBody.appendChild(row);
        total += item.price * item.quantity;
      });

      const codeValue = document.getElementById("discount-code").value.trim();
      const discountError = document.getElementById("discount-error");
      discountError.innerText = "";
      if (codeValue !== "" && codeValue !== SAVE15) discountError.innerText = "Invalid discount code.";
      if (codeValue === SAVE15) total *= 0.85;

      const shipMethod = document.querySelector("input[name='shipping']:checked").value;
      if (shipMethod === "express") total += 10;

      document.getElementById("total-price").innerText = total.toFixed(2);
    }

    document.querySelectorAll(".add-to-cart").forEach(btn => {
      btn.addEventListener("click", () => {
        const name = btn.getAttribute("data-name");
        const price = parseFloat(btn.getAttribute("data-price"));
        if (!cart[name]) cart[name] = { name, price, quantity: 1 };
        else cart[name].quantity++;
        renderCart();
      });
    });

    document.getElementById("discount-code").addEventListener("input", renderCart);
    document.querySelectorAll("input[name='shipping']").forEach(r => r.addEventListener("change", renderCart));

    function validateForm() {
      let valid = true;
      const name = document.getElementById("name");
      const email = document.getElementById("email");
      const address = document.getElementById("address");
      const nameErr = document.getElementById("name-error");
      const emailErr = document.getElementById("email-error");
      const addressErr = document.getElementById("address-error");
      nameErr.innerText = ""; emailErr.innerText = ""; addressErr.innerText = "";

      if (name.value.trim() === "") { nameErr.innerText = "Name is required."; valid = false; }
      if (email.value.trim() === "") { emailErr.innerText = "Email is required."; valid = false; }
      else if (!email.value.includes("@")) { emailErr.innerText = "Invalid email format."; valid = false; }
      if (address.value.trim() === "") { addressErr.innerText = "Address is required."; valid = false; }
      return valid;
    }

    document.getElementById("pay-now").addEventListener("click", () => {
      const msg = document.getElementById("payment-message");
      msg.innerText = "";
      if (!validateForm()) { msg.innerText = "Please fix the errors above."; msg.className = "errorMsg"; return; }
      if (Object.keys(cart).length === 0) { msg.innerText = "Your cart is empty."; msg.className = "errorMsg"; return; }
      msg.innerText = "Payment Successful!"; msg.className = "success";
    });

    renderCart();
  </script>
</body>
</html>
